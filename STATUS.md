# Analyzers to Create

| Id   | Analyzer                                                                | Status | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|------|-------------------------------------------------------------------------|--------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| #A1  | Missing Equality Comparer                                               | ‚úîÔ∏è     | For various LINQ methods (ToDictionary etc.), check if the underlying type of TKey implements IEquatable<T> as well as overrides GetHashCode().                                                                                                                                                                                                                                                                                                                                                                                 |
| #A2  | Parameter ordering analyzer                                             | ‚úîÔ∏è     | Enforces the order of parameters of a constructor or method in a configurable manner. Default is: `{other},ILogger*,CancellationToken`.                                                                                                                                                                                                                                                                                                                                                                                         |
| #A3  | Namespace using order                                                   | üîµ     | Namespace usings should be ordered by System, System.* and then all the other namespaces. Also provide a code-fix feature to automatically fix it.                                                                                                                                                                                                                                                                                                                                                                              |
| #A4  | Member Ordering                                                         | üîµ     | Ensure type members are ordered like (default): const, static fields, readonly fields, fields, properties, events, delegates, static constructors, public constructors, other constructors, public methods, protected methods, internal methods, private methods, types. Order should be configurable through `.editorconfig`  file.                                                                                                                                                                                            |
| #A5  | Object not disposed                                                     | ‚úîÔ∏è     | There are already analyzers to check that for direct object creation, the object is being disposed in all execution paths like: `using var stream = new MemoryStream(...)`. However, if a disposable object is returned from a method (e.g. `sqlConnection.CreateCommand()`), these analyzers don't check for that. Therefore, it would be good to have such an analyzer. It should also be configurable through `.editorconfig` which types to ignore (e.g. `System.Threading.Tasks.Task`) as well as which methods to ignore. |
| #A6  | String interpolation is not necessary                                   | üîµ     | Check for interpolated string where interpolation is not  required. e.g.: `var whatever = $"bla bla";`.                                                                                                                                                                                                                                                                                                                                                                                                                         |
| #A7  | Verbatim string is not necessary                                        | üîµ     | Sometimes, verbatim string literals are used but are not required. e.g.: `const string whatever = @"bla bla";`.                                                                                                                                                                                                                                                                                                                                                                                                                 |
| #A8  | Methods should not return materialized collections as enumerables       | ‚úîÔ∏è     | By returning materialized collections as `IEnumerable`, `IEnumerable<T>`, `Task<IEnumerable>` or `Task<IEnumerable<T>>`, the caller most likely will re-materialize it by calling `ToList()` or similar methods which is an overhead. Instead, return a collection abstraction like `IReadOnlyCollection<T>` or `IReadOnlyList<T>`.                                                                                                                                                                                             |
| #A9  | Awaiting `Task.CompletedTask` in an async method is not necessary       | üîµ     | Either remove `await Task.CompletedTask` or replace it with `return Task.CompletedTask`.                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| #A10 | Awaiting `Task.FromResult` in an async method is not necessary          | üîµ     | Either remove `await Task.FromResult` or replace it with `return Task.FromResult`.                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| #A11 | Don't inject untyped logger (`ILogger`) in construcotrs                 | üîµ     | Instead, use a typed logger `ILogger<TContext>`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| #A12 | Incorrect type parameter used for `ILogger<TContext>`                   | ‚úîÔ∏è     | When injecting `ILogger<TContext>` in constructors, the type argument should be the type of the class it is injected to.                                                                                                                                                                                                                                                                                                                                                                                                        |
| #A13 | Pragma warning suppression not restored                                 | üîµ     | The `#pragma warning disable X` is not restored.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| #A14 | Pragma warning suppression not restored in correct order of suppression | üîµ     | When suppressing warnings, the warning suppression restoration statement must be in the reverse order.                                                                                                                                                                                                                                                                                                                                                                                                                          |
| #A15 | Do not use general warning suppression                                  | ‚úîÔ∏è     | When suppressing warnings through `#pragma warning disable` a diagnostic ID must be provided all the time. Disallow general warning suppression.                                                                                                                                                                                                                                                                                                                                                                                |

# Other Open Points

| Id  | Summary                                    | Status | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|-----|--------------------------------------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| #O1 | Build pipeline and upload to NuGet server. | üîµ     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| #O2 | Unified settings handling                  | ‚úîÔ∏è     | Create an easy way to retrieve the config for every analyzer diagnostic separately.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| #O3 | Logging                                    | üîµ     | Create a simple logger which logs to a temporary directory. Since analyzers can run in parallel and there might be multiple instances of `visual studio` or `dotnet build`, file access need to be synchronized through a named mutex. Monitors (lock) will not work in this scenario. By default, logging should be disabled but should be able to enabled through the configuration (.editorconfig). Also take into consideration, that there's no performance impact when logging is disabled vs no logging at all. That means string to be logged should be provided through a `Func<string>` rather than an parameter of type `string`. |
